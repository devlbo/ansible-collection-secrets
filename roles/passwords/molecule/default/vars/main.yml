---
# Shared test variables for devlbo.secrets.passwords Molecule tests
#
# Test ID abbreviation: PWD
# Variable prefix: __passwords__tc__  (shared constants)
#                  __passwords__tc_NNN__  (per-test)

# ---------------------------------------------------------------------------
# Shared constants
# ---------------------------------------------------------------------------

__passwords__tc__ephemeral: >-
  {{ lookup('env', 'MOLECULE_EPHEMERAL_DIRECTORY') }}

# Read from the age-pub-key.txt file generated by prepare.yml.
# prepare.yml writes it into the ephemeral directory at the start of each run,
# so this works in CI (no pre-existing key needed) and locally alike.
__passwords__tc__age_pub_key: >-
  {{ lookup('file', __passwords__tc__ephemeral ~ '/age-pub-key.txt') | trim }}

# ---------------------------------------------------------------------------
# Per-test output directories
# ---------------------------------------------------------------------------

__passwords__tc_010__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_010"
__passwords__tc_020__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_020"
__passwords__tc_030__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_030"
__passwords__tc_040__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_040"
__passwords__tc_050__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_050"
__passwords__tc_060__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_060"
__passwords__tc_070__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_070"
__passwords__tc_080__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_080"
__passwords__tc_090__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_090"
__passwords__tc_100__dir: "{{ __passwords__tc__ephemeral }}/tc_pwd_100"
