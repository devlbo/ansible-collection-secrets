---
# Shared test variables for devlbo.secrets.ssh_keys Molecule tests
#
# Test ID abbreviation: SSH
# Variable prefix: __ssh_keys__tc__  (shared constants)
#                  __ssh_keys__tc_NNN__  (per-test)

# ---------------------------------------------------------------------------
# Shared constants
# ---------------------------------------------------------------------------

__ssh_keys__tc__ephemeral: >-
  {{ lookup('env', 'MOLECULE_EPHEMERAL_DIRECTORY') }}

# Read from the age-pub-key.txt file generated by prepare.yml.
# prepare.yml writes it into the ephemeral directory at the start of each run,
# so this works in CI (no pre-existing key needed) and locally alike.
__ssh_keys__tc__age_pub_key: >-
  {{ lookup('file', __ssh_keys__tc__ephemeral ~ '/age-pub-key.txt') | trim }}

# ---------------------------------------------------------------------------
# Per-test output directories
# ---------------------------------------------------------------------------

__ssh_keys__tc_010__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_010"
__ssh_keys__tc_020__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_020"
__ssh_keys__tc_030__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_030"
__ssh_keys__tc_040__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_040"
__ssh_keys__tc_050__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_050"
__ssh_keys__tc_060__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_060"
__ssh_keys__tc_070__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_070"
__ssh_keys__tc_080__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_080"
__ssh_keys__tc_090__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_090"
__ssh_keys__tc_100__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_100"
__ssh_keys__tc_110__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_110"
__ssh_keys__tc_120__dir: "{{ __ssh_keys__tc__ephemeral }}/tc_ssh_120"
